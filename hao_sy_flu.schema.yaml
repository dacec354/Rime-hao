# Rime schema settings
# encoding: utf-8

__include: hao_sy.schema:/

schema:
  schema_id: hao_sy_flu
  name: 'å¥½ç ãƒ»æ¾çƒŸ(ä¸ä¸Šå±ç‰ˆ)'
  version: '20250609'
  author:
    - ä½œè€… è’
    - Rimeæ–¹æ¡ˆ <https://shurufa.app>
    - å®˜æ–¹QQç¾¤ 1012245282
  description: |
    å‰ç¼€Â·æ¾çƒŸ(ä¸ä¸Šå±ç‰ˆ)

__patch:
  switches/@0/reset: 0
  switches/@1/reset: 0
  switches/@2/reset: 0
  switches/@3/reset: 1
  switches/@4/reset: 0
  switches/@5/reset: 0
  switches/@last/+:
    name: emoji_suggestion
    reset: 1
    states: [ "ğŸˆšï¸", "ğŸˆ¶ï¸" ]
  engine/filters/@after 1: simplifier@emoji_suggestion

engine:
  translators:
    - punct_translator
    - lua_translator@*hao.hao_shijian
    - lua_translator@*hao.hao_number
    - history_translator@history
    - script_translator@hao_pinyin_lookup
    - table_translator@hao_stroke_lookup
    - script_translator
    - lua_translator@*hao.hao_os*os_env_translator
    - lua_translator@*hao.hao_switch*tr@hao

speller:
  alphabet: ZYXWVUTSRQPONMLKJIHGFEDCBAzyxwvutsrqponmlkjihgfedcba9876543210;/,.?:;!@#$%^&*()-=+[]{}"'<>_
  initials: ZYXWVUTSRQPONMLKJIHGFEDCBAzyxwvutsrqponmlkjihgfedcba9876543210;/,.?:;!@#$%^&*()-=+[]{}"'<>_
  delimiter: " "
  auto_select: false

translator:
  dictionary: hao_sy_flu
  prism: hao_sy_flu
  #enable_sentence: true
  preedit_format:
    - xform/_//
    #- xform/[a-z]/\*/

hao:
  code: hao_sy_flu
  tags: [ abc ]
  #postpone_fullcode:
  #  max_index: 4  # æœ€å¤§åç½®ä½ç½®ï¼Œé»˜è®¤ä¸º 4
  spelling:
    schema: hao_sy_chaifen
    cycle_key: "Shift+Control+C"
    switch_key: "Control+c"
    phrase: 0
  birthday:
    solar:
      æ·…ç : "0429,æ·…ç è¯ç”Ÿ"
      æ¾çƒŸ: "0520,æ¾çƒŸè¯ç”Ÿ"
    lunar:
      æ˜¥èŠ‚: "0101,å†œå†æ˜¥èŠ‚"
  funckeys:
    macro: [0x2f] # ç•¶è¼¸å…¥ä¸²ä»¥ "/" é–‹é ­æ™‚, èªçˆ²æ˜¯å®èª¿ç”¨
  macros:
    hao:
      - { type: tip, name: â–æ¾çƒŸé…ç½®ä¸­å¿ƒ }
      - { type: switch, name: hao_autocommit, states: [â˜é€‰é‡ä¸Šå±, â˜‘è‡ªåŠ¨ä¸Šå±] }
      - { type: switch, name: lazy_clock, states: [â˜å€™é€‰æ—¶é—´, â˜‘å€™é€‰æ—¶é—´] }
      - { type: switch, name: preedit_lazy_clock, states: [â˜ç¼–è¾‘åŒºæ—¶é—´, â˜‘ç¼–è¾‘åŒºæ—¶é—´] }
      - { type: switch, name: traditionalization, states: [â˜ç®€ä¿æŒ, â˜‘ç®€è½¬ç¹] }
      - { type: switch, name: simplification, states: [â˜ç¹ä¿æŒ, â˜‘ç¹è½¬ç®€] }
      - { type: switch, name: full_shape, states: [â˜åŠè§’, â˜‘å…¨è§’] }
      - { type: switch, name: ascii_punct, states: [â˜ä¸­æ–‡æ ‡ç‚¹, â˜‘è‹±æ–‡æ ‡ç‚¹] }
    date:
      - { type: eval, name: â˜€æ—¥æœŸ, expr: return os.date("%Y-%m-%d") }
      - { type: eval, name: â›…å¹´æœˆæ—¥, expr: return os.date("%Yå¹´%mæœˆ%dæ—¥") }
    time:
      - { type: eval, name: âŒšæ—¶é—´, expr: return os.date("%H:%M:%S") }
      - { type: eval, name: â“‰æ—¶é—´, expr: return os.date("%Y%m%d%H%M") }
      - { type: eval, name: â“ˆæ—¶é—´æˆ³, expr: return tostring(os.time()) }
    div:
      - {
          type: radio,
          names:
            [
              hao_spelling.off,
              hao_spelling.lv1,
              hao_spelling.lv2,
              hao_spelling.lv3,
            ],
          states: [â˜â˜â˜æ³¨è§£, â˜‘â˜â˜æ³¨è§£, â˜â˜‘â˜æ³¨è§£, â˜â˜â˜‘æ³¨è§£],
        }
    trad:
      - { type: switch, name: traditionalization, states: [â˜ä¸è½¬æ¢, â˜‘ç®€è½¬ç¹] }
    simp:
      - { type: switch, name: simplification, states: [â˜ä¸è½¬æ¢, â˜‘ç¹è½¬ç®€] }
    full:
      - { type: switch, name: full_shape, states: [â˜åŠè§’, â˜‘å…¨è§’] }
    half:
      - { type: switch, name: full_shape, states: [â˜åŠè§’, â˜‘å…¨è§’] }
    punc:
      - { type: switch, name: ascii_punct, states: [â˜ä¸­æ–‡æ ‡ç‚¹, â˜‘è‹±æ–‡æ ‡ç‚¹] }
    dot:
      - { type: switch, name: ascii_punct, states: [â˜ä¸­æ–‡æ ‡ç‚¹, â˜‘è‹±æ–‡æ ‡ç‚¹] }
    lazy:
      - { type: switch, name: lazy_clock, states: [â˜å€™é€‰æ—¶é—´, â˜‘å€™é€‰æ—¶é—´] }
    dist:
      - type: eval
        expr: >
          return function(args)
            return string.format("librime: [%s]", rime_api.get_rime_version())
          end
      - type: eval
        expr: >
          return function(args)
            return string.format("distribution: [%s](%s/%s)",
              rime_api.get_distribution_name(),
              rime_api.get_distribution_code_name(),
              rime_api.get_distribution_version())
          end
    uni:
      - type: eval
        hijack: true
        expr: return require("hao.hao_core").unicode()
    w:
      - type: eval
        hijack: true
        expr: return require("hao.hao_core").unicode()

emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: none
    inherit_comment: false

key_binder:
  bindings:
    - { when: always, accept: "Control+period", toggle: ascii_punct }
    - { when: always, accept: "Control+Shift+period", toggle: ascii_punct }
    - { when: always, accept: "Control+Shift+J", toggle: simplification }
    - { when: always, accept: "Control+Shift+F", toggle: traditionalization }
    - { when: has_menu, accept: Tab, send: KP_2 } # è£½è¡¨ç¬¦æ¬¡é€‰
    - { when: has_menu, accept: minus, send: Page_Up } # æ¸›è™Ÿä¸Šç¿»é 
    - { when: has_menu, accept: equal, send: Page_Down } # ç­‰è™Ÿä¸‹ç¿»é 
    - { when: has_menu, accept: " ", send: _ }
    - { when: has_menu, accept: Shift+Space, send: ' ' }

punctuator:
  import_preset: symbols